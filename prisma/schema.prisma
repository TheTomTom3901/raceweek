// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider             = "mysql"
  url                  = env("DATABASE_URL")
  shadowDatabaseUrl    = env("SHADOW_DATABASE_URL")
  referentialIntegrity = "prisma"
}

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

model Event {
  id          String    @id
  name        String
  provisional Boolean   @default(false)
  series      String
  sessions    Session[]

  @@map("events")
}

model Session {
  id          String
  name        String
  type        String
  unconfirmed Boolean  @default(false)
  startTime   DateTime @map("start_time")
  endTime     DateTime @map("end_time")
  event       Event    @relation(fields: [eventId], references: [id])
  eventId     String   @map("event_id")

  @@id([id, eventId])
  @@map("sessions")
}
